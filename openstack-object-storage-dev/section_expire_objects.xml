<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE section [
<!-- Useful for describing APIs -->
<!ENTITY PUT '<command xmlns="http://docbook.org/ns/docbook">PUT</command>'>
<!ENTITY POST '<command xmlns="http://docbook.org/ns/docbook">POST</command>'>
]>
<section xmlns="http://docbook.org/ns/docbook"
    xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0"
    xml:id="expire-objects">
    <title>Expire objects</title>
    <para>To expire an object, include either the
            <code>X-Delete-After</code> or <code>X-Delete-At</code>
        header with the &PUT; or &POST; request on the object. These
        headers schedule the object for deletion. This feature is
        helpful for objects you do not want to permanently store, such
        as log files, recurring full backups of a dataset, or
        documents or images you know will be outdated at a future
        time.</para>
    <para>The <code>X-Delete-At</code> header requires a Unix Epoch
        timestamp, in integer form; for example: 1348691905 represents
        Wed, 26 Sep 2012 20:38:25 GMT. setting the header to a
        specific Epoch time, you indicate when you want the object to
        expire, not be served, and be deleted completely from the
        storage system.</para>
    <para>The <code>X-Delete-After</code> header takes an integer
        number of seconds and calculates the amount of time from now
        that you want the object to be deleted. The proxy server that
        receives the request converts this header into an
            <code>X-Delete-At</code> header and calculates the
        deletion time using its current time plus the value given in
        seconds.</para>
    <para>For existing objects that you want to assign expiration
        headers to, use the &POST; operation.</para>
    <example>
        <title>Delete object at request: HTTP</title>
        <para>In the example, the <code>X-Delete-At</code> header is
            assigned with a Unix Epoch timestamp in integer form for
            Mon, 11 Jun 2012 15:38:25 GMT. Use <link
                xlink:href="http://www.epochconverter.com/"
                >http://www.epochconverter.com/</link> for example
            timestamps and a batch converter.</para>
        <literallayout class="monospaced"><xi:include href="samples/object-delete-at-req.txt" parse="text"/></literallayout>
    </example>
    <example>
        <title>Delete object after request: HTTP</title>
        <para>In this example, the <code>X-Delete-After</code> header
            is assigned a value in seconds, equivalent to 10 days.
            After this time, the object expires.</para>
        <literallayout class="monospaced"><xi:include href="samples/object-delete-after-req.txt" parse="text"/></literallayout>
    </example>
</section>
