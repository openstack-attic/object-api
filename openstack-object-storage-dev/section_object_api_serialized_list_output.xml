<?xml version="1.0" encoding="UTF-8"?>
<section xmlns="http://docbook.org/ns/docbook"
    xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0"
    xml:id="serialized-list-output">
    <title>Serialized list output</title>
    <para>If you append the <code>format=xml</code> or
            <code>format=json</code> argument to the storage account
        URL, the service serves extended container information that is
        serialized in the specified format.</para>
    <para>The following example HTTP request asks for a JSON response.
        The response returns an HTTP header and JSON response, which
        is formatted for readability.</para>
    <example>
        <title>Get containers details request: HTTP and JSON</title>
        <screen><userinput>GET /&lt;api version>/&lt;account>?format=json HTTP/1.1
Host: storage.swiftdrive.com
Content-Length: 0
X-Storage-Token: 182f9c0af0e828cfe3281767d29d19f4</userinput></screen>
    </example>
    <example>
        <title>Get containers details response: HTTP and JSON</title>
        <screen><computeroutput>HTTP/1.1 200 OK
Date: Tue, 25 Nov 2008 19:39:13 GMT
Server: Apache
Content-Type: application/json; charset=utf-8</computeroutput></screen>
        <programlisting language="json">[
   {"name":"test_container_1", "count":2, "bytes":78},
   {"name":"test_container_2", "count":1, "bytes":17}
]</programlisting>
    </example>
    <para>The following HTTP request asks for an XML response. The
        response returns an HTTP header and an XML response, which is
        formatted for readability.</para>
    <example>
        <title>Get containers details request: HTTP and XML</title>
        <screen><userinput>HTTP/1.1 200 OK
Date: Tue, 25 Nov 2008 19:42:35 GMT
Server: Apache
Content-Type: application/xml; charset=utf-8</userinput></screen>
    </example>
    <example>
        <title>Get containers details response: HTTP and XML</title>
        <screen><computeroutput>HTTP/1.1 200 OK
Date: Tue, 25 Nov 2008 19:42:35 GMT
Server: Apache
Content-Type: application/xml; charset=utf-8</computeroutput></screen>
        <programlisting language="xml"><xi:include parse="text" href="samples/get_containers_details_resp.xml"/></programlisting>
    </example>
    <example>
        <title>Get object details request: HTTP and JSON</title>
        <literallayout class="monospaced"><xi:include href="samples/objects-get-details-http-json-req.txt" parse="text"/></literallayout>
    </example>
    <example>
        <title>Get object details response: HTTP and JSON</title>
        <literallayout class="monospaced"><xi:include href="samples/objects-get-details-http-json-resp.txt" parse="text"/></literallayout>
        <programlisting language="json"><xi:include href="samples/objects-get-details-resp.json" parse="text"/></programlisting>
    </example>
    <example>
        <title>Get object details request: XML</title>
        <literallayout class="monospaced"><xi:include href="samples/objects-get-details-http-xml-req.txt" parse="text"/></literallayout>
    </example>
    <example>
        <title>Get object details request: XML</title>
        <literallayout class="monospaced"><xi:include href="samples/objects-get-details-http-xml-resp.txt" parse="text"/></literallayout>
        <programlisting language="xml"><xi:include href="samples/objects-get-details-resp.xml" parse="text"/></programlisting>
    </example>
    <para>In other situations, such as when you work with a language
        binding on top of the REST API, you might want more structured
        data back from the method calls. append the
            <code>format=xml</code> or <code>format=json</code>
        argument to the storage account URL to get structured data in
        the specified format.</para>
    <screen><prompt>$</prompt> <userinput>curl –X GET -i \
    -H "X-Auth-Token: fc81aaa6-98a1-9ab0-94ba-aba9a89aa9ae" \
    https://storage.swiftdrive.com/v1/CF_xer7_343?format=json</userinput></screen>
    <screen><computeroutput>HTTP/1.1 200 OK
X-Account-Object-Count: 0
X-Account-Bytes-Used: 0
X-Account-Container-Count: 5
Accept-Ranges: bytes
Content-Length: 187
Content-Type: application/json; charset=utf-8
X-Trans-Id: txd408573a51d2423c848cba191fbede9b
Date: Mon, 07 Nov 2011 19:17:33 GMT

[{"name":"cosmo", "count":0,"bytes":0},
{"name":"dogs","count":0,"bytes":0},
{"name":"elaine","count":0,"bytes":0},
{"name":"george","count":0,"bytes":0},
{"name":"jerry","count":0,"bytes":0}]</computeroutput>		</screen>
    <screen><prompt>$</prompt> <userinput>curl –X GET -i \
    -H "X-Auth-Token: fc81aaa6-98a1-9ab0-94ba-aba9a89aa9ae" \
    https://storage.swiftdrive.com/v1/CF_xer7_343?format=xml</userinput></screen>
    <screen><computeroutput>HTTP/1.1 200 OK
X-Account-Object-Count: 0
X-Account-Bytes-Used: 0
X-Account-Container-Count: 5
Accept-Ranges: bytes
Content-Length: 479
Content-Type: application/xml; charset=utf-8
X-Trans-Id: tx5e5685a15d0b406799b6a425b1150e4c
Date: Mon, 07 Nov 2011 19:17:38 GMT

&lt;?xml version="1.0" encoding="UTF-8"?>
&lt;account name="AUTH_a23f73d2-abfb-4656-af94-32ddec35dab8">
&lt;container>&lt;name>cosmo&lt;/name>&lt;count>0&lt;/count>&lt;bytes>0&lt;/bytes>&lt;/container>
&lt;container>&lt;name>dogs&lt;/name>&lt;count>0&lt;/count>&lt;bytes>0&lt;/bytes>&lt;/container>
&lt;container>&lt;name>elaine&lt;/name>&lt;count>0&lt;/count>&lt;bytes>0&lt;/bytes>&lt;/container>
&lt;container>&lt;name>george&lt;/name>&lt;count>0&lt;/count>&lt;bytes>0&lt;/bytes>&lt;/container>
&lt;container>&lt;name>jerry&lt;/name>&lt;count>0&lt;/count>&lt;bytes>0&lt;/bytes>&lt;/container>
&lt;/account></computeroutput></screen>
    <para>The remainder of the examples in this guide use standard,
        non-serialized output. However, all operations accept the
            <literal>format</literal> argument. You might notice that
        when you use one of the formats, you get information about
        container metadata, which is covered in the next
        section.</para>
</section>
